---
layout: post
title: ! 'Trac: IntegrityError'
tags:
- North Star Labs
- Solution
- System Administration
status: publish
type: post
published: true
meta: {}
---
<img src="http://northstarlabs.net/blog/wp-content/uploads/2007/09/trac-96.png" alt="Trac" align="right" />Recently, I've been getting Trac: IntegrityError exceptions on my Trac 0.10.3 installation, which I use to publish scripts and code in the <a href="trac/project/northstarlabs/" title="Knowledge Base">knowledge base</a>.  It didn't take me long to figure out what the problem was, based on the information in Trac Ticket <a href="http://trac.edgewall.org/ticket/4586" title="Too many concurrent resync attempts">4586 </a>and <a href="http://trac.edgewall.org/ticket/4043" title="two concurrent resync attempts can leave the database in an inconsistent state">4043</a>.

It did take me a bit longer to work around the actual problem, however.  I've upgraded track to 0.10.4, and issued the following two commands:
<pre class="code">
trac-admin ~/nsl/var/svntracs/northstarlabs upgrade
trac-admin ~/nsl/var/svntracs/northstarlabs resync</pre>
Substitute in the full path to your trac project directory, and you should get back up and running quickly.

Thanks to <a href="http://chxo.com/be2/20070709_e989.html" title="chxo.com" target="_blank">chxo.com</a> for publishing this quick fix.
