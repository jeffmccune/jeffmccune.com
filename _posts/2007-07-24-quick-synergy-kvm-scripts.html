---
layout: post
title: Quick Synergy KVM Scripts
tags:
- Linux
- Mac OS X
- Shell
status: publish
type: post
published: true
meta: {}
---
<img src="http://northstarlabs.net/blog/wp-content/uploads/2007/07/synergybackground.png" alt="Synergy" align="right" height="96" width="96" />I constantly use keyboard sharing software like <a href="http://synergy2.sourceforge.net/" title="Synergy2" target="_blank">synergy2</a>, <a href="http://abyssoft.com/software/teleport/" title="Teleport" target="_blank">teleport</a>, <a href="http://fredrik.hubbe.net/x2vnc.html" title="x2vnc" target="_blank">x2vnc</a>, <a href="http://x2x.dottedmag.net/" title="x2x" target="_blank">x2x</a>, etc...  I've settled on synergy since it's relatively platform independent.  I use the command line program rather than <a href="http://software.landryhetu.com/synergy/" title="SynergyKM" target="_blank">synergyKM</a>, just because I find it far more reliable.  I also tunnel through ssh and found the certificate stuff in synergyKM to be less than ideal.

In any case, I wrote a small shell script which fires up the synergy server on the machine with the physical keyboard attached, then reaches out via ssh to the client machine, copying the synergyc client binary, establishes a reverse tunnel back to the synergy server on my laptop, launches the client in the background on the remote machine and connecting to the tunnel, then finally detaches the ssh session.  When I close my lid and walk away at the end of the day, the tunnel and synergy processes gracefully clean up after themselves.

I find this setup ideal, because whenever I bring my portable machine into the office in the morning, I just run
<pre class="code">kvmc ford</pre>
and the script takes care of everything for me.

The scripts are located in the <a href="/trac/project/northstarlabs/browser/trunk/personal/synergy2" title="Synergy Scripts">northstarlabs repository</a>.  As usual, most of their usefulness is derived from password-less ssh authentication using public keys and ssh-agent.
